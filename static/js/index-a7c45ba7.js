import{X as d,Y as v,Z as _,c as l,u as b,_ as D,$ as B,l as g,o as F,a0 as L,a1 as y,a2 as q,a3 as X,s as W,r as Y,F as R,a4 as Z,E as N,e as G,S as Q}from"./@vue-0057e33b.js";import{c as ee}from"./pinia-75b29db1.js";import{d as te}from"./dayjs-d2af4db4.js";import{R as E,u as J,a as oe,c as ae,b as ne}from"./vue-router-2c461628.js";import{C as P,z as j,A as se,_ as H,L as re,T as ce,a as ie,b as le,c as ue,d as pe,e as _e,n as A,f as me,B as de}from"./ant-design-vue-69c5e787.js";import{N as K}from"./nprogress-8c52ea9a.js";import{U as T}from"./@ant-design-c5cfb3ae.js";import{a as he}from"./axios-cd074bab.js";import"./@babel-f2deaedd.js";import"./lodash-es-c37e40cf.js";import"./resize-observer-polyfill-2974a3e4.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-7942c886.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./@ctrl-eebb6dbe.js";import"./dom-align-529d0cdc.js";import"./form-data-d2a9677b.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const ge={__name:"App",setup(o,{expose:n}){return n({RouterView:E,ConfigProvider:P,zh_CN:j}),(a,r)=>(d(),v(b(P),{locale:b(j)},{default:_(()=>[l(b(E),null,{default:_(({Component:e})=>[(d(),v(D,null,[(d(),v(B(e)))],1024))]),_:1})]),_:1},8,["locale"]))}},fe="modulepreload",ve=function(o){return"/static/"+o},$={},h=function(n,a,r){if(!a||a.length===0)return n();const e=document.getElementsByTagName("link");return Promise.all(a.map(t=>{if(t=ve(t),t in $)return;$[t]=!0;const s=t.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(!!r)for(let c=e.length-1;c>=0;c--){const u=e[c];if(u.href===t&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;const p=document.createElement("link");if(p.rel=s?"stylesheet":fe,s||(p.as="script",p.crossOrigin=""),p.href=t,document.head.appendChild(p),s)return new Promise((c,u)=>{p.addEventListener("load",c),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>n())};const x=(o,n)=>{const a=o.__vccOpts||o;for(const[r,e]of n)a[r]=e;return a},z=o=>(q("data-v-4c9e7032"),o=o(),X(),o),ye={class:"nav-wrap"},ke=z(()=>y("div",{class:"logo"},"XingMinLoadView",-1)),be={class:"menu-wrap"},Le={class:"com-icon"},Ee=z(()=>y("span",{style:{"margin-left":"6px"}},"欢迎您，",-1)),Ae={__name:"CustomNav",setup(o,{expose:n}){const a=g(""),r=g([]),e=g([]),t=s=>{let i=r.value.find(m=>m.id===s);localStorage.setItem("currentUser",JSON.stringify(i))};return F(()=>{let s=JSON.parse(localStorage.getItem("currentUser"));r.value=JSON.parse(localStorage.getItem("userList")),a.value=s.id,e.value=r.value.map(i=>({label:i.name,value:i.id}))}),n({UserOutlined:T,currentUser:a,options:e,handleChange:t}),(s,i)=>{const m=se,p=H;return d(),L("div",ye,[ke,y("div",be,[y("span",Le,[l(m,{size:26,style:{"background-color":"#87d068"}},{icon:_(()=>[l(b(T))]),_:1}),Ee,l(p,{ref:"select",value:a.value,"onUpdate:value":i[0]||(i[0]=c=>a.value=c),style:{width:"120px"},options:e.value,onChange:t},null,8,["value","options"])])])])}}},V=x(Ae,[["__scopeId","data-v-4c9e7032"]]);const Se={class:"tab-panel-wrap"},Oe={__name:"Home",setup(o,{expose:n}){const a=J(),r=oe(),e=g("/home/grkh");W(()=>{r.meta&&r.meta.tabActive&&(e.value=r.meta.tabActive)});const t=Y([{name:"个人客户",path:"/home/grkh"},{name:"机构客户",path:"/home/jgkh"},{name:"操作日志",path:"/home/log"}]);function s(i){a.push({path:i})}return n({RouterView:E,CustomNav:V,activeKey:e,tabList:t,handleTabClick:s}),(i,m)=>{const p=re,c=_e,u=ce,k=ie,O=le,I=ue,C=pe;return d(),L(R,null,[l(I,null,{default:_(()=>[l(p,{class:"layout-header"},{default:_(()=>[l(V)]),_:1}),l(k,{style:{padding:"0 50px",marginTop:"64px"}},{default:_(()=>[y("div",Se,[l(u,{activeKey:e.value,"onUpdate:activeKey":m[0]||(m[0]=f=>e.value=f),onTabClick:s},{default:_(()=>[(d(!0),L(R,null,Z(t,f=>(d(),v(c,{key:f.path,tab:f.name},null,8,["tab"]))),128))]),_:1},8,["activeKey"]),l(b(E),null,{default:_(({Component:f})=>[(d(),v(D,null,[(d(),v(B(f)))],1024))]),_:1})])]),_:1}),l(O,{style:{textAlign:"center"}},{default:_(()=>[N(" XingMinLoadView ©2022 Created by Hwt & Yjx ")]),_:1})]),_:1}),l(C)],64)}}},Ie=x(Oe,[["__scopeId","data-v-eba24311"]]),Ce="http://localhost:8000/api/v1/",M={baseUrl:Ce,operators:"operators",customersList:"customers",customersRemind:"customers/remind/count",contacts:"contacts",funds:"funds",cooperations:"cooperations",logs:"logs",exportLogs:"logs/export"};const Ne={class:"page"},xe={class:"select-wrap"},Ue={__name:"Login",setup(o,{expose:n}){const a=G("$http"),r=J(),e=g(""),t=g([]),s=g([]),i=c=>{let u=t.value.find(k=>k.id===c);localStorage.setItem("currentUser",JSON.stringify(u))},m=()=>{e.value!==""&&e.value!==void 0&&e.value!==null?r.replace({path:"/home"}):A.warn({message:"温馨提示",description:"请先选择用户"})},p=async()=>{const{data:c}=await a.get(M.operators,{params:{pageNo:1,paseSize:100}});t.value=c,localStorage.setItem("userList",JSON.stringify(c)),s.value=c.map(u=>({label:u.name,value:u.id})),c&&c.length>0&&(localStorage.setItem("currentUser",JSON.stringify(c[0])),e.value=c[0].id)};return F(()=>{p()}),n({currentUser:e,options:s,login:m,handleChange:i}),(c,u)=>{const k=me,O=H,I=de;return d(),L("div",Ne,[l(k,null,{default:_(()=>[N("选择用户")]),_:1}),y("div",xe,[l(O,{ref:"select",value:e.value,"onUpdate:value":u[0]||(u[0]=C=>e.value=C),placeholder:"请选择用户",style:{width:"40%"},options:s.value,onChange:i},null,8,["value","options"]),l(I,{style:{"margin-left":"8px"},type:"primary",onClick:m},{default:_(()=>[N("登录")]),_:1})])])}}},we=x(Ue,[["__scopeId","data-v-9f08278e"]]),U=ae({history:ne("/static/"),routes:[{path:"/",redirect:"/login"},{path:"/login",component:we},{path:"/home",name:"home",redirect:"/home/grkh",component:Ie,children:[{path:"grkh",meta:{tabActive:"/home/grkh"},name:"grkh",component:()=>h(()=>import("./ConsumerClientList-9f7f56ea.js"),["js/ConsumerClientList-9f7f56ea.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/store-b4c7e3e8.js","js/pinia-75b29db1.js","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js","css/ConsumerClientList-96526200.css"])},{path:"grkhForm",meta:{tabActive:"/home/grkh"},name:"grkhForm",component:()=>h(()=>import("./ConsumerClientForm-30fa308b.js"),["js/ConsumerClientForm-30fa308b.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/pinia-75b29db1.js","js/store-b4c7e3e8.js","js/ProductDetailTable-002d87ee.js","css/ProductDetailTable-adc3f6eb.css","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js"])},{path:"grkhDetail",meta:{tabActive:"/home/grkh"},name:"grkhDetail",component:()=>h(()=>import("./ConsumerClientDetail-6c5c3f89.js"),["js/ConsumerClientDetail-6c5c3f89.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/pinia-75b29db1.js","js/store-b4c7e3e8.js","js/ProductDetailTable-002d87ee.js","css/ProductDetailTable-adc3f6eb.css","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js","css/ConsumerClientDetail-5fad3d56.css"])},{path:"jgkh",meta:{tabActive:"/home/jgkh"},name:"jgkh",component:()=>h(()=>import("./InstitutionalClientList-cb33956b.js"),["js/InstitutionalClientList-cb33956b.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/store-b4c7e3e8.js","js/pinia-75b29db1.js","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js","css/InstitutionalClientList-f3220f38.css"])},{path:"jgkhForm",meta:{tabActive:"/home/jgkh"},name:"jgkhForm",component:()=>h(()=>import("./InstitutionalClientForm-8601fc82.js"),["js/InstitutionalClientForm-8601fc82.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/pinia-75b29db1.js","js/store-b4c7e3e8.js","js/ProductDetailTable-002d87ee.js","css/ProductDetailTable-adc3f6eb.css","js/DiscountSalerTable-cb29639e.js","css/DiscountSalerTable-911351cb.css","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js"])},{path:"jgkhDetail",meta:{tabActive:"/home/jgkh"},name:"jgkhDetail",component:()=>h(()=>import("./InstitutionalClientDetail-a6e9081d.js"),["js/InstitutionalClientDetail-a6e9081d.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js","js/pinia-75b29db1.js","js/store-b4c7e3e8.js","js/ProductDetailTable-002d87ee.js","css/ProductDetailTable-adc3f6eb.css","js/DiscountSalerTable-cb29639e.js","css/DiscountSalerTable-911351cb.css","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js","css/InstitutionalClientDetail-852d0528.css"])},{path:"log",meta:{tabActive:"/home/log"},name:"log",component:()=>h(()=>import("./OperationLogList-a157b193.js"),["js/OperationLogList-a157b193.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/pinia-75b29db1.js","js/vue-router-2c461628.js","js/nprogress-8c52ea9a.js","css/nprogress-8b89e2e0.css","js/axios-cd074bab.js","js/form-data-d2a9677b.js","css/OperationLogList-240d33b7.css"])}]},{path:"/404",name:"404",component:()=>h(()=>import("./NotFound-4eb63ec8.js"),["js/NotFound-4eb63ec8.js","js/ant-design-vue-69c5e787.js","js/@babel-f2deaedd.js","js/@vue-0057e33b.js","js/@ant-design-c5cfb3ae.js","js/@ctrl-eebb6dbe.js","js/lodash-es-c37e40cf.js","js/resize-observer-polyfill-2974a3e4.js","js/async-validator-dee29e8b.js","js/scroll-into-view-if-needed-7942c886.js","js/compute-scroll-into-view-183f845a.js","js/dayjs-d2af4db4.js","js/vue-types-ef06c517.js","js/dom-align-529d0cdc.js","css/ant-design-vue-3162b288.css","js/vue-router-2c461628.js"])},{path:"/:pathMatch(.*)*",redirect:"/404"}],scrollBehavior(){return{x:0,y:0}}});U.beforeEach((o,n,a)=>{if(K.start(),o.path==="/login")return a();o.matched.length===0&&a("/404");const r=JSON.parse(localStorage.getItem("currentUser"));if(!r||r.id==="")return A.error({message:"温馨提示",description:"您还未选择当前用户"}),a("/login");a()});U.afterEach(()=>{K.done()});const Re=M.baseUrl,w=he.create({baseURL:Re,timeout:6e4,withCredentials:!1,headers:{"Content-Type":"application/json"}});w.interceptors.request.use(o=>{const n=JSON.parse(localStorage.getItem("currentUser"));return n&&n.id&&(o.headers["operator-id"]=n.id),o},o=>(A.error({message:"温馨提示",description:"网络请求失败"}),Promise.reject(o)));w.interceptors.response.use(o=>o.data,o=>{var n,a;return A.error({message:"温馨提示",description:((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.message)||o.message}),Promise.reject(o)});te.locale("zh-cn");const S=Q(ge);S.use(ee());S.use(U);S.provide("$http",w);S.mount("#app");export{x as _,M as a};
