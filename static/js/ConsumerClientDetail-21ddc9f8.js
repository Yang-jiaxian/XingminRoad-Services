import{c as ae,A as le,B as te,F as oe,s as ne,f as se,g as ue,t as re,h as _e,p as pe}from"./ant-design-vue-a65eb274.js";import{a as ie,u as ce}from"./vue-router-c7505a30.js";import{u as fe}from"./store-7a36e7d0.js";import{C as T,P as L}from"./ProductDetailTable-46627c71.js";import{_ as de,a as me}from"./index-4cbe4d0c.js";import{e as ve,l as f,K as be,r as w,s as ge,aL as P,an as U,ao as t,c as e,b8 as a,E as V,aa as s,aA as u,ac as r,F as he,am as Ce,aN as ke,aM as we}from"./@vue-e16f66a9.js";import{K as xe}from"./@ant-design-b54d9c65.js";import"./@babel-5c3af8a7.js";import"./resize-observer-polyfill-2974a3e4.js";import"./lodash-es-26de6f87.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-7942c886.js";import"./compute-scroll-into-view-183f845a.js";import"./dayjs-7e8bcc51.js";import"./vue-types-ef06c517.js";import"./@ctrl-eebb6dbe.js";import"./dom-align-529d0cdc.js";import"./pinia-9fcab373.js";import"./nprogress-733e006c.js";import"./axios-cd074bab.js";import"./form-data-d2a9677b.js";const C=x=>(ke("data-v-8c90aad3"),x=x(),we(),x),ye={class:"container"},Re={class:"slider"},je={class:"content-wrap"},De=C(()=>t("div",{class:"form-header",id:"jbxx"},"基本资料",-1)),Se=C(()=>t("h3",{class:"form-title"},"基本信息",-1)),qe=C(()=>t("h3",{class:"form-title",id:"lxqk"},[t("p",null,"联系情况")],-1)),ze=C(()=>t("h3",{class:"form-title",id:"jjsm"},[t("p",null,"基金理财/私募")],-1)),Fe=C(()=>t("h3",{class:"form-title",id:"khgs"},"客户归属",-1)),Be=C(()=>t("h3",{class:"form-title",id:"rzrq"},"融资融券",-1)),Ie={__name:"ConsumerClientDetail",setup(x,{expose:K}){const W=ve("$http"),R=ie(),G=ce();function q(){G.back()}const H=fe(),y=f(null),z=f(null),F=f(null);be(()=>{R.query&&(l.id=R.query.id,M(R.query.id))});const M=p=>{W.get(`${me.customersList}/${p}`).then(i=>{i.code===0&&(y.value=i.data,z.value.fetchTableData(),F.value.fetchTableData())}).catch(()=>{y.value=H.grkhForm}).finally(()=>{J()})},J=()=>{Object.keys(y.value).filter(p=>p!=="updated_at"&&p!=="created_at").forEach(p=>{const i=y.value[p];switch(p){case"cash_treasure":case"automatic_investment_plan":case"double_innovation_board":case"share_option":case"shenzhen_hong_kong_stock_connect":case"shanghai_hong_kong_stock_connect":case"double_margin_account":case"beijing_stock_exchange":case"pension_account":i&&g.value.push(p);break;default:l[p]=i;break}})},c=f({xs:8,sm:16,md:24,lg:32}),B=f({lg:{span:6,offset:0},xl:{span:6,offset:0}}),I=f({lg:{span:18,offset:0},xl:{span:18,offset:0}}),_=f({lg:12,xl:8}),j=f({lg:{span:4,offset:0},xl:{span:2,offset:0}}),D=f({lg:{span:20,offset:0},xl:{span:22,offset:0}}),v=f({lg:{span:5,offset:0},xl:{span:4,offset:0}}),b=f({lg:{span:19,offset:0},xl:{span:20,offset:0}}),m=f({lg:24,xl:12}),l=w({customer_type:0}),O=w([{label:"男",value:0},{label:"女",value:1}]),$=w([{label:"保守型",value:"保守型"},{label:"稳健型",value:"稳健型"},{label:"平衡型",value:"平衡型"},{label:"积极型",value:"积极型"},{label:"激进型",value:"激进型"}]),A=w([{label:"是",value:1},{label:"否",value:0}]),g=f([]),E=w([{label:"现金宝",value:"cash_treasure"},{label:"基金定投",value:"automatic_investment_plan"},{label:"双创板",value:"double_innovation_board"},{label:"期权",value:"share_option"},{label:"深港通",value:"shenzhen_hong_kong_stock_connect"},{label:"沪港通",value:"shanghai_hong_kong_stock_connect"},{label:"两融账户",value:"double_margin_account"},{label:"北交所",value:"beijing_stock_exchange"}]);ge(()=>{g.value&&g.value.length&&g.value.forEach(p=>{l[p]=!0})});const N=p=>{p.preventDefault()};return K({HomeOutlined:xe,formState:l,rowGutter:c,labelCol:B,wrapperCol:I,normalColSize:_,allRowLabelCol:j,allRowWrapperCol:D,halfRowLabelCol:v,halfRowWrapperCol:b,halfColSize:m,risk_appetite_options:$,permissions:g,is_internet_channel_options:A,genderOptions:O,permissionOptions:E,ContactDetailTable:T,ProductDetailTable:L,back:q,handleAnchorClick:N}),(p,i)=>{const Q=ae,k=ne,X=le,Y=te,o=se,n=ue,S=re,d=_e,Z=pe,ee=oe;return P(),U("div",ye,[t("section",Re,[t("div",null,[e(Q,{level:3},{default:a(()=>[V("个人客户详情")]),_:1}),e(X,{"target-offset":100,onClick:N},{default:a(()=>[e(k,{href:"#jbxx",title:"基本信息"}),e(k,{href:"#lxqk",title:"联系情况"}),e(k,{href:"#jjsm",title:"基金理财/私募"}),e(k,{href:"#khgs",title:"客户归属"}),e(k,{href:"#rzrq",title:"融资融券"})]),_:1})]),t("div",null,[e(Y,{block:"",onClick:q},{default:a(()=>[V("返回")]),_:1})])]),t("main",je,[De,e(ee,{class:"ant-advanced-form",labelCol:B.value,wrapperCol:I.value},{default:a(()=>[Se,e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"name",label:"姓  名"},{default:a(()=>[t("span",null,r(l.name),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"gender",label:"性  别"},{default:a(()=>[e(S,{disabled:"",value:l.gender,"onUpdate:value":i[0]||(i[0]=h=>l.gender=h),options:O},null,8,["value","options"])]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"occupation",label:"职  业"},{default:a(()=>[t("span",null,r(l.occupation),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"phone",label:"联系方式"},{default:a(()=>[t("span",null,r(l.phone),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"capital_account",label:"资金账号"},{default:a(()=>[t("span",null,r(l.capital_account),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"birthday",label:"出生日期"},{default:a(()=>[t("span",null,r(l.birthday),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"certificate_type",label:"证件类型"},{default:a(()=>[t("span",null,r(l.certificate_type),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"certificate_number",label:"证件号码"},{default:a(()=>[t("span",null,r(l.certificate_number),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"existing_assets",label:"现有资产"},{default:a(()=>[t("span",null,r(l.existing_assets),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"historical_peak",label:"历史峰值"},{default:a(()=>[t("span",null,r(l.historical_peak),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"customer_source",label:"客户来源"},{default:a(()=>[t("span",null,r(l.customer_source),1)]),_:1})]),_:1},16),e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"specific_channel",label:"具体渠道"},{default:a(()=>[t("span",null,r(l.specific_channel),1)]),_:1})]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(_.value)),{default:a(()=>[e(o,{name:"commission_rate",label:"佣金费率"},{default:a(()=>[t("span",null,r(l.commission_rate),1)]),_:1})]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,{span:24},{default:a(()=>[e(o,{labelCol:j.value,wrapperCol:D.value,name:"risk_appetite",label:"风险偏好"},{default:a(()=>[e(S,{disabled:"",value:l.risk_appetite,"onUpdate:value":i[1]||(i[1]=h=>l.risk_appetite=h),options:$},null,8,["value","options"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,{span:24},{default:a(()=>[e(o,{labelCol:j.value,wrapperCol:D.value,label:"权限情况"},{default:a(()=>[e(Z,{disabled:"",value:g.value,"onUpdate:value":i[2]||(i[2]=h=>g.value=h),options:E},null,8,["value","options"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),l.id!==void 0&&l.id!==""?(P(),U(he,{key:0},[qe,e(T,{ref_key:"contactRef",ref:z,isReadOnly:"",style:{"margin-bottom":"0.5em"},"customer-id":l.id},null,8,["customer-id"]),ze,e(L,{ref_key:"fundsRef",ref:F,isReadOnly:"",style:{"margin-bottom":"0.5em"},"customer-id":l.id},null,8,["customer-id"])],64)):Ce("",!0),Fe,e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"developer",label:"开发关系"},{default:a(()=>[t("span",null,r(l.developer),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"assignmenter",label:"服务包分配"},{default:a(()=>[t("span",null,r(l.assignmenter),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"follower",label:"跟进情况"},{default:a(()=>[t("span",null,r(l.follower),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:{lg:{span:6,offset:0},xl:{span:7,offset:0},xxl:{span:5,offset:0}},wrapperCol:{lg:{span:18,offset:0},xl:{span:17,offset:0},xxl:{span:19,offset:0}},name:"is_internet_channel",label:"是否是互联网渠道"},{default:a(()=>[e(S,{disabled:"",value:l.is_internet_channel,"onUpdate:value":i[3]||(i[3]=h=>l.is_internet_channel=h),options:A},null,8,["value","options"])]),_:1})]),_:1},16)]),_:1},8,["gutter"]),Be,e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"account_opening_date",label:"开户日期"},{default:a(()=>[t("span",null,r(l.account_opening_date),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"preferential_interest_rate",label:"优惠利率"},{default:a(()=>[t("span",null,r(l.preferential_interest_rate),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"dateRange",label:"时  间"},{default:a(()=>[t("span",null,r(l.interest_rate_effective_date||"--")+" 至 "+r(l.interest_rate_expiry_date||"--"),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(d,{gutter:c.value},{default:a(()=>[e(n,s(u(m.value)),{default:a(()=>[e(o,{labelCol:v.value,wrapperCol:b.value,name:"remark",label:"备  注"},{default:a(()=>[t("span",null,r(l.remark),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"])]),_:1},8,["labelCol","wrapperCol"])])])}}},aa=de(Ie,[["__scopeId","data-v-8c90aad3"]]);export{aa as default};
