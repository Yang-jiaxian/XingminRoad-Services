import{c as Oe,A as Re,B as qe,F as De,s as Se,f as Ie,g as Ue,t as ze,h as Te,p as Be,o as Fe}from"./ant-design-vue-a65eb274.js";import{e as Ae,l as c,K as $e,r as h,s as B,aL as b,an as S,ao as o,c as e,b8 as a,E as I,aa as d,aA as p,ac as s,F,aQ as $,v as H,A as M,am as Le,aN as Ne,aM as Pe,al as L}from"./@vue-e16f66a9.js";import{a as Ve,u as Ke}from"./vue-router-c7505a30.js";import{u as We}from"./store-7a36e7d0.js";import{C as fe,P as me}from"./ProductDetailTable-46627c71.js";import{D as be}from"./DiscountSalerTable-b7b4bad3.js";import{_ as Ge,a as He}from"./index-4cbe4d0c.js";import{K as Me}from"./@ant-design-b54d9c65.js";import"./@babel-5c3af8a7.js";import"./resize-observer-polyfill-2974a3e4.js";import"./lodash-es-26de6f87.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-7942c886.js";import"./compute-scroll-into-view-183f845a.js";import"./dayjs-7e8bcc51.js";import"./vue-types-ef06c517.js";import"./@ctrl-eebb6dbe.js";import"./dom-align-529d0cdc.js";import"./pinia-9fcab373.js";import"./nprogress-733e006c.js";import"./axios-cd074bab.js";import"./form-data-d2a9677b.js";const U=N=>(Ne("data-v-7d2eb8a9"),N=N(),Pe(),N),Qe={class:"container"},Je={class:"slider"},Xe={class:"content-wrap"},Ye=U(()=>o("div",{class:"form-header",id:"jbxx"},"基本资料",-1)),Ze=U(()=>o("h3",{class:"form-title"},"基本信息",-1)),ea=U(()=>o("h3",{class:"form-title",id:"lxqk"},[o("p",null,"联系情况")],-1)),aa=U(()=>o("h3",{class:"form-title",id:"jjsm"},[o("p",null,"基金理财/私募")],-1)),la=U(()=>o("h3",{class:"form-title",id:"qsqk"},[o("p",null,"券商情况")],-1)),ta=U(()=>o("h3",{class:"form-title"},"客户归属",-1)),na=U(()=>o("h3",{class:"form-title",id:"rzrq"},"融资融券",-1)),oa={__name:"InstitutionalClientDetail",setup(N,{expose:he}){const ge=Ae("$http"),Q=Ve(),Ce=Ke();function X(){Ce.back()}const ke=We(),P=c(null),Y=c(null),Z=c(null),ee=c(null);$e(()=>{Q.query&&(t.id=Q.query.id,we(Q.query.id))});const we=n=>{ge.get(`${He.customersList}/${n}`).then(l=>{l.code===0&&(P.value=l.data,Y.value.fetchTableData(),Z.value.fetchTableData(),ee.value.fetchTableData())}).catch(()=>{P.value=ke.jgkhForm}).finally(()=>{ye()})},ye=()=>{Object.keys(P.value).filter(n=>n!=="updated_at"&&n!=="created_at").forEach(n=>{const l=P.value[n];switch(n){case"private_placement_strategy":Object.keys(l).forEach(r=>{l[r]&&C.value.push(r),r==="other"&&(V.value=l[r])});break;case"fund_demand":Object.keys(l).forEach(r=>{l[r]&&k.value.push(r),r==="other"&&(K.value=l[r])});break;case"technical_demand":Object.keys(l).forEach(r=>{l[r]&&q.value.push(r)});break;case"bond_source_demand":Object.keys(l).forEach(r=>{l[r]&&w.value.push(r),r==="other"&&(W.value=l[r])});break;case"investment_research_demand":Object.keys(l).forEach(r=>{l[r]&&y.value.push(r),r==="other"&&(G.value=l[r])});break;case"cash_treasure":case"automatic_investment_plan":case"double_innovation_board":case"share_option":case"shenzhen_hong_kong_stock_connect":case"shanghai_hong_kong_stock_connect":case"double_margin_account":case"beijing_stock_exchange":case"pension_account":l&&D.value.push(n);break;default:t[n]=l;break}})},t=h({customer_type:1}),v=c({xs:8,sm:16,md:24,lg:32}),ae=c({lg:{span:6,offset:0},xl:{span:6,offset:0}}),le=c({lg:{span:18,offset:0},xl:{span:18,offset:0}}),m=c({lg:12,xl:8}),j=c({lg:{span:4,offset:0},xl:{span:2,offset:0}}),E=c({lg:{span:20,offset:0},xl:{span:22,offset:0}}),O=c({lg:{span:5,offset:0},xl:{span:4,offset:0}}),R=c({lg:{span:19,offset:0},xl:{span:20,offset:0}}),g=c({lg:24,xl:12}),te=h([{label:"男",value:0},{label:"女",value:1}]),ne=h([{key:"0-5亿",value:"0-5E"},{key:"5-10亿",value:"5-10E"},{key:"10-20亿",value:"10-20E"},{key:"20-50亿",value:"20-50E"},{key:"50-100亿",value:"50-100E"},{key:"100亿以上",value:">100E"}]),oe=n=>{var l;return n&&((l=ne.find(r=>r.value===n))==null?void 0:l.key)||""},C=c([]),V=c(""),ue=h([{label:"主观多头",value:"subjective_long_position"},{label:"量化多头",value:"quantifying_long_positions"},{label:"中性策略",value:"neutral_strategy"},{label:"套利策略",value:"arbitrage_strategy"},{label:"期货/期权",value:"forward_option"},{label:"多策略",value:"multi_strategy"},{label:"其他",value:"other"}]);B(()=>{if(C.value&&C.value.length){const n={};C.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=V.value}),t.private_placement_strategy=n}});const k=c([]),K=c(""),se=h([{label:"代销",value:"sale_by_proxy"},{label:"其他",value:"other"}]);B(()=>{if(k.value&&k.value.length){const n={};k.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=K.value}),t.fund_demand=n}});const q=c([]),re=h([{label:"需要特定柜台",value:"is_need_specific_counter"},{label:"需要极速行情",value:"is_need_top_speed_market"},{label:"需要定制化",value:"is_need_customization"},{label:"有三方算法需求",value:"is_need_tripartite_algorithms"}]);B(()=>{if(q.value&&q.value.length){const n={};q.value.forEach(l=>{n[l]=!0}),t.technical_demand=n}});const w=c([]),W=c(""),_e=h([{label:"行业篮子股票券源",value:"sector_basket_stocks"},{label:"宽基篮子股票券源",value:"wide_base_basket_stocks"},{label:"个股券源",value:"individual_share"},{label:"其他",value:"other"}]);B(()=>{if(w.value&&w.value.length){const n={};w.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=W.value}),t.bond_source_demand=n}});const y=c([]),G=c(""),ie=h([{label:"研究所研报",value:"research_report_of_the_institute"},{label:"研究所白名单",value:"research_institute_whitelist"},{label:"研究所年费服务",value:"institute_annual_fee_service"},{label:"参与研究所路演",value:"participate_in_the_institute_road_show"},{label:"其他",value:"other"}]);B(()=>{if(y.value&&y.value.length){const n={};y.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=G.value}),t.investment_research_demand=n}});const ce=h([{label:"保守型",value:"保守型"},{label:"稳健型",value:"稳健型"},{label:"平衡型",value:"平衡型"},{label:"积极型",value:"积极型"},{label:"激进型",value:"激进型"}]),de=h([{label:"是",value:1},{label:"否",value:0}]),D=c([]),pe=h([{label:"现金宝",value:"cash_treasure"},{label:"基金定投",value:"automatic_investment_plan"},{label:"双创板",value:"double_innovation_board"},{label:"期权",value:"share_option"},{label:"深港通",value:"shenzhen_hong_kong_stock_connect"},{label:"沪港通",value:"shanghai_hong_kong_stock_connect"},{label:"两融账户",value:"double_margin_account"},{label:"北交所",value:"beijing_stock_exchange"}]);B(()=>{D.value&&D.value.length&&D.value.forEach(n=>{t[n]=!0})});const ve=n=>{n.preventDefault()};return he({HomeOutlined:Me,formState:t,rowGutter:v,labelCol:ae,wrapperCol:le,normalColSize:m,allRowLabelCol:j,allRowWrapperCol:E,halfRowLabelCol:O,halfRowWrapperCol:R,halfColSize:g,genderOptions:te,risk_appetite_options:ce,permissions:D,permissionOptions:pe,private_placement_strategy:C,private_placement_strategy_other:V,private_placement_strategy_options:ue,fund_demand:k,fund_demand_other:K,fund_demand_options:se,technical_demand:q,technical_demand_options:re,bond_source_demand:w,bond_source_demand_other:W,bond_source_demand_options:_e,investment_research_demand:y,investment_research_demand_other:G,investment_research_demand_options:ie,scale_of_management_options:ne,is_internet_channel_options:de,ContactDetailTable:fe,ProductDetailTable:me,DiscountSalerTable:be,back:X,getScaleText:oe,handleAnchorClick:ve}),(n,l)=>{const r=Oe,z=Se,xe=Re,je=qe,_=Ie,i=Ue,J=ze,f=Te,A=Fe,T=Be,Ee=De;return b(),S("div",Qe,[o("section",Je,[o("div",null,[e(r,{level:3},{default:a(()=>[I("机构客户详情")]),_:1}),e(xe,{"target-offset":100,onClick:ve},{default:a(()=>[e(z,{href:"#jbxx",title:"基本信息"}),e(z,{href:"#lxqk",title:"联系情况"}),e(z,{href:"#jjsm",title:"基金理财/私募"}),e(z,{href:"#qsqk",title:"券商情况"}),e(z,{href:"#khgs",title:"客户归属"}),e(z,{href:"#rzrq",title:"融资融券"})]),_:1})]),o("div",null,[e(je,{block:"",onClick:X},{default:a(()=>[I("返回")]),_:1})])]),o("main",Xe,[Ye,e(Ee,{class:"ant-advanced-form",labelCol:ae.value,wrapperCol:le.value},{default:a(()=>[Ze,e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"capital_account",label:"私募编码"},{default:a(()=>[o("span",null,s(t.capital_account),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"name",label:"机构名称"},{default:a(()=>[o("span",null,s(t.name),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"scale_of_management",label:"管理规模"},{default:a(()=>[o("span",null,s(oe(t.scale_of_management)),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"contact_person",label:"联 系 人"},{default:a(()=>[o("span",null,s(t.contact_person),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"gender",label:"性  别"},{default:a(()=>[e(J,{disabled:"",value:t.gender,"onUpdate:value":l[0]||(l[0]=u=>t.gender=u),options:te},null,8,["value","options"])]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"phone",label:"联系方式"},{default:a(()=>[o("span",null,s(t.phone),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"existing_assets",label:"现有资产"},{default:a(()=>[o("span",null,s(t.existing_assets),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"historical_peak",label:"历史峰值"},{default:a(()=>[o("span",null,s(t.historical_peak),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"customer_source",label:"客户来源"},{default:a(()=>[o("span",null,s(t.customer_source),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"specific_channel",label:"具体渠道"},{default:a(()=>[o("span",null,s(t.specific_channel),1)]),_:1})]),_:1},16),e(i,d(p(m.value)),{default:a(()=>[e(_,{name:"commission_rate",label:"佣金费率"},{default:a(()=>[o("span",null,s(t.commission_rate),1)]),_:1})]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"private_placement_strategy",label:"策略类型"},{default:a(()=>[e(T,{disabled:"",value:C.value,"onUpdate:value":l[1]||(l[1]=u=>C.value=u)},{default:a(()=>[(b(!0),S(F,null,$(ue,(u,x)=>(b(),L(A,{key:x,value:u.value},{default:a(()=>[I(s(u.label),1)]),_:2},1032,["value"]))),128)),H(o("span",null,s(V.value),513),[[M,C.value&&C.value.includes("other")]])]),_:1},8,["value"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"fund_demand",label:"资金需求"},{default:a(()=>[e(T,{disabled:"",value:k.value,"onUpdate:value":l[2]||(l[2]=u=>k.value=u)},{default:a(()=>[(b(!0),S(F,null,$(se,(u,x)=>(b(),L(A,{key:x,value:u.value},{default:a(()=>[I(s(u.label),1)]),_:2},1032,["value"]))),128)),H(o("span",null,s(K.value),513),[[M,k.value&&k.value.includes("other")]])]),_:1},8,["value"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"technical_demand",label:"技术需求"},{default:a(()=>[e(T,{disabled:"",value:q.value,"onUpdate:value":l[3]||(l[3]=u=>q.value=u)},{default:a(()=>[(b(!0),S(F,null,$(re,(u,x)=>(b(),L(A,{key:x,value:u.value},{default:a(()=>[I(s(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"bond_source_demand",label:"劵源需求"},{default:a(()=>[e(T,{disabled:"",value:w.value,"onUpdate:value":l[4]||(l[4]=u=>w.value=u)},{default:a(()=>[(b(!0),S(F,null,$(_e,(u,x)=>(b(),L(A,{key:x,value:u.value},{default:a(()=>[I(s(u.label),1)]),_:2},1032,["value"]))),128)),H(o("span",null,s(W.value),513),[[M,w.value&&w.value.includes("other")]])]),_:1},8,["value"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"investment_research_demand",label:"投研需求"},{default:a(()=>[e(T,{disabled:"",value:y.value,"onUpdate:value":l[5]||(l[5]=u=>y.value=u)},{default:a(()=>[(b(!0),S(F,null,$(ie,(u,x)=>(b(),L(A,{key:x,value:u.value},{default:a(()=>[I(s(u.label),1)]),_:2},1032,["value"]))),128)),H(o("span",null,s(G.value),513),[[M,y.value&&y.value.includes("other")]])]),_:1},8,["value"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"risk_appetite",label:"风险偏好"},{default:a(()=>[e(J,{disabled:"",value:t.risk_appetite,"onUpdate:value":l[6]||(l[6]=u=>t.risk_appetite=u),options:ce},null,8,["value","options"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,{span:24},{default:a(()=>[e(_,{labelCol:j.value,wrapperCol:E.value,name:"permissions",label:"权限情况"},{default:a(()=>[e(T,{disabled:"",value:D.value,"onUpdate:value":l[7]||(l[7]=u=>D.value=u),options:pe},null,8,["value","options"])]),_:1},8,["labelCol","wrapperCol"])]),_:1})]),_:1},8,["gutter"]),t.id!==void 0&&t.id!==""?(b(),S(F,{key:0},[ea,e(fe,{ref_key:"contactRef",ref:Y,style:{"margin-bottom":"0.5em"},isReadOnly:"","customer-id":t.id},null,8,["customer-id"]),aa,e(me,{ref_key:"fundsRef",ref:Z,style:{"margin-bottom":"0.5em"},isReadOnly:"","customer-id":t.id},null,8,["customer-id"]),la,e(be,{ref_key:"cooperationsRef",ref:ee,style:{"margin-bottom":"0.5em"},isReadOnly:"","customer-id":t.id},null,8,["customer-id"])],64)):Le("",!0),ta,e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"developer",label:"开发关系"},{default:a(()=>[o("span",null,s(t.developer),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"assignmenter",label:"服务包分配"},{default:a(()=>[o("span",null,s(t.assignmenter),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"follower",label:"跟进情况"},{default:a(()=>[o("span",null,s(t.follower),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:{lg:{span:6,offset:0},xl:{span:7,offset:0},xxl:{span:5,offset:0}},wrapperCol:{lg:{span:18,offset:0},xl:{span:17,offset:0},xxl:{span:19,offset:0}},name:"is_internet_channel",label:"是否是互联网渠道"},{default:a(()=>[e(J,{disabled:"",value:t.is_internet_channel,"onUpdate:value":l[8]||(l[8]=u=>t.is_internet_channel=u),options:de},null,8,["value","options"])]),_:1})]),_:1},16)]),_:1},8,["gutter"]),na,e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"account_opening_date",label:"开户日期"},{default:a(()=>[o("span",null,s(t.account_opening_date),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"preferential_interest_rate",label:"优惠利率"},{default:a(()=>[o("span",null,s(t.preferential_interest_rate),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"dateRange",label:"时  间"},{default:a(()=>[o("span",null,s(t.interest_rate_effective_date||"--")+" 至 "+s(t.interest_rate_expiry_date||"--"),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"]),e(f,{gutter:v.value},{default:a(()=>[e(i,d(p(g.value)),{default:a(()=>[e(_,{labelCol:O.value,wrapperCol:R.value,name:"remark",label:"备  注"},{default:a(()=>[o("span",null,s(t.remark),1)]),_:1},8,["labelCol","wrapperCol"])]),_:1},16)]),_:1},8,["gutter"])]),_:1},8,["labelCol","wrapperCol"])])])}}},Ra=Ge(oa,[["__scopeId","data-v-7d2eb8a9"]]);export{Ra as default};
