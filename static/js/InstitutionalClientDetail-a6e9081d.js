import{p as Oe,F as Ce,r as Ee,h as je,i as we,j as xe,s as Te,t as De,B as Se,w as Re}from"./ant-design-vue-69c5e787.js";import{K as Be,r as p,l as c,s as E,X as f,a0 as j,c as e,Z as a,F as w,u as Ue,E as k,a1 as d,a6 as r,a4 as T,t as N,A as V,B as L,Y as D,a2 as Ie,a3 as Me}from"./@vue-0057e33b.js";import{u as Fe}from"./vue-router-2c461628.js";import{s as Pe}from"./pinia-75b29db1.js";import{u as Ne}from"./store-b4c7e3e8.js";import{C as ce,P as pe}from"./ProductDetailTable-002d87ee.js";import{D as fe}from"./DiscountSalerTable-cb29639e.js";import{_ as Ve}from"./index-a7c45ba7.js";import{H as ve}from"./@ant-design-c5cfb3ae.js";import"./@babel-f2deaedd.js";import"./lodash-es-c37e40cf.js";import"./resize-observer-polyfill-2974a3e4.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-7942c886.js";import"./compute-scroll-into-view-183f845a.js";import"./dayjs-d2af4db4.js";import"./vue-types-ef06c517.js";import"./@ctrl-eebb6dbe.js";import"./dom-align-529d0cdc.js";import"./nprogress-8c52ea9a.js";import"./axios-cd074bab.js";import"./form-data-d2a9677b.js";const X=S=>(Ie("data-v-96403f6a"),S=S(),Me(),S),ze=X(()=>d("h3",{class:"form-title"},"基本信息",-1)),Ae=X(()=>d("h3",{class:"form-title"},"客户归属",-1)),He=X(()=>d("h3",{class:"form-title"},"融资融券",-1)),qe={__name:"InstitutionalClientDetail",setup(S,{expose:me}){const be=Fe();function Y(){be.back()}const he=Ne(),{jgkhForm:Z}=Pe(he);Be(()=>{ge()});const ge=()=>{Object.keys(Z.value).filter(n=>n!=="updated_at"&&n!=="created_at").forEach(n=>{const l=Z.value[n];switch(n){case"private_placement_strategy":Object.keys(l).forEach(o=>{l[o]&&v.value.push(o),o==="other"&&(I.value=l[o])});break;case"fund_demand":Object.keys(l).forEach(o=>{l[o]&&m.value.push(o),o==="other"&&(M.value=l[o])});break;case"technical_demand":Object.keys(l).forEach(o=>{l[o]&&y.value.push(o)});break;case"bond_source_demand":Object.keys(l).forEach(o=>{l[o]&&b.value.push(o),o==="other"&&(F.value=l[o])});break;case"investment_research_demand":Object.keys(l).forEach(o=>{l[o]&&h.value.push(o),o==="other"&&(P.value=l[o])});break;case"permissions":Object.keys(l).forEach(o=>{l[o]&&O.value.push(o)});break;default:t[n]=l;break}})},t=p({customer_type:1}),$=p([{label:"男",value:0},{label:"女",value:1}]),G=p([{key:"0-5亿",value:"0-5E"},{key:"5-10亿",value:"5-10E"},{key:"10-20亿",value:"10-20E"},{key:"20-50亿",value:"20-50E"},{key:"50-100亿",value:"50-100E"},{key:"100亿以上",value:">100E"}]),J=n=>{var l;return n&&((l=G.find(o=>o.value===n))==null?void 0:l.key)||""},R=c(null);function Q(){R.value.openModal(t.id)}function z(){R.value.closeModal()}function W(){z()}const B=c(null);function ee(){B.value.openModal(t.id)}function A(){B.value.closeModal()}function ae(){A()}const U=c(null);function le(){U.value.openModal(t.id)}function H(){U.value.closeModal()}function te(){H()}const v=c([]),I=c(""),ne=p([{label:"主观多头",value:"subjective_long_position"},{label:"量化多头",value:"quantifying_long_positions"},{label:"中性策略",value:"neutral_strategy"},{label:"套利策略",value:"arbitrage_strategy"},{label:"期货/期权",value:"forward_option"},{label:"多策略",value:"multi_strategy"},{label:"其他",value:"other"}]);E(()=>{if(v.value&&v.value.length){const n={};v.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=I.value}),t.private_placement_strategy=n}});const m=c([]),M=c(""),ue=p([{label:"代销",value:"sale_by_proxy"},{label:"其他",value:"other"}]);E(()=>{if(m.value&&m.value.length){const n={};m.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=M.value}),t.fund_demand=n}});const y=c([]),oe=p([{label:"需要特定柜台",value:"is_need_specific_counter"},{label:"需要极速行情",value:"is_need_top_speed_market"},{label:"需要定制化",value:"is_need_customization"},{label:"有三方算法需求",value:"is_need_tripartite_algorithms"}]);E(()=>{if(y.value&&y.value.length){const n={};y.value.forEach(l=>{n[l]=!0}),t.technical_demand=n}});const b=c([]),F=c(""),se=p([{label:"行业篮子股票券源",value:"sector_basket_stocks"},{label:"宽基篮子股票券源",value:"wide_base_basket_stocks"},{label:"个股券源",value:"individual_share"},{label:"其他",value:"other"}]);E(()=>{if(b.value&&b.value.length){const n={};b.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=F.value}),t.bond_source_demand=n}});const h=c([]),P=c(""),_e=p([{label:"研究所研报",value:"research_report_of_the_institute"},{label:"研究所白名单",value:"research_institute_whitelist"},{label:"研究所年费服务",value:"institute_annual_fee_service"},{label:"参与研究所路演",value:"participate_in_the_institute_road_show"},{label:"其他",value:"other"}]);E(()=>{if(h.value&&h.value.length){const n={};h.value.forEach(l=>{l!=="other"?n[l]=!0:n[l]=P.value}),t.investment_research_demand=n}});const re=p([{label:"保守型",value:"保守型"},{label:"稳健型",value:"稳健型"},{label:"平衡型",value:"平衡型"},{label:"积极型",value:"积极型"},{label:"激进型",value:"激进型"}]),de=p([{label:"是",value:1},{label:"否",value:0}]),O=c([]),ie=p([{label:"现金宝",value:"cash_treasure"},{label:"基金定投",value:"automatic_investment_plan"},{label:"双创板",value:"double_innovation_board"},{label:"期权",value:"share_option"},{label:"深港通",value:"shenzhen_hong_kong_stock_connect"},{label:"沪港通",value:"shanghai_hong_kong_stock_connect"},{label:"两融账户",value:"double_margin_account"},{label:"北交所",value:"beijing_stock_exchange"}]);return E(()=>{if(O.value&&O.value.length){const n={};O.value.forEach(l=>{n[l]=!0}),t.permissions=n}}),me({HomeOutlined:ve,formState:t,genderOptions:$,risk_appetite_options:re,permissions:O,permissionOptions:ie,private_placement_strategy:v,private_placement_strategy_other:I,private_placement_strategy_options:ne,fund_demand:m,fund_demand_other:M,fund_demand_options:ue,technical_demand:y,technical_demand_options:oe,bond_source_demand:b,bond_source_demand_other:F,bond_source_demand_options:se,investment_research_demand:h,investment_research_demand_other:P,investment_research_demand_options:_e,scale_of_management_options:G,is_internet_channel_options:de,ContactDetailTable:ce,ProductDetailTable:pe,DiscountSalerTable:fe,contactRef:R,fundsRef:B,cooperationsRef:U,back:Y,getScaleText:J,handleContactDetailShow:Q,handleContactTableOk:W,handleContactTableCancel:z,handleProductTableShow:ee,handleProductTableCancel:A,handleProductTableOk:ae,handleDiscountTableShow:le,handleDiscountTableCancel:H,handleDiscountTableOk:te}),(n,l)=>{const o=Ee,ke=Oe,s=je,_=we,i=xe,q=Te,x=Re,C=De,K=Se,ye=Ce;return f(),j(w,null,[e(ke,null,{default:a(()=>[e(o,{onClick:Y},{default:a(()=>[e(Ue(ve))]),_:1}),e(o,null,{default:a(()=>[k("机构客户详情")]),_:1})]),_:1}),e(ye,null,{default:a(()=>[ze,e(i,{gutter:24},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{name:"capital_account",label:"私募编码"},{default:a(()=>[d("span",null,r(t.capital_account),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"name",label:"机构名称"},{default:a(()=>[d("span",null,r(t.name),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"scale_of_management",label:"管理规模"},{default:a(()=>[d("span",null,r(J(t.scale_of_management)),1)]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{name:"contact_person",label:"联 系 人"},{default:a(()=>[d("span",null,r(t.contact_person),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"gender",label:"性  别"},{default:a(()=>[e(q,{disabled:"",value:t.gender,"onUpdate:value":l[0]||(l[0]=u=>t.gender=u),options:$},null,8,["value","options"])]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"phone",label:"联系方式"},{default:a(()=>[d("span",null,r(t.phone),1)]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"private_placement_strategy",label:"策略类型"},{default:a(()=>[e(C,{disabled:"",value:v.value,"onUpdate:value":l[1]||(l[1]=u=>v.value=u)},{default:a(()=>[(f(!0),j(w,null,T(ne,(u,g)=>(f(),D(x,{key:g,value:u.value},{default:a(()=>[k(r(u.label),1)]),_:2},1032,["value"]))),128)),N(d("span",null,r(I.value),513),[[V,v.value&&v.value.includes("other")]])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"fund_demand",label:"资金需求"},{default:a(()=>[e(C,{disabled:"",value:m.value,"onUpdate:value":l[2]||(l[2]=u=>m.value=u)},{default:a(()=>[(f(!0),j(w,null,T(ue,(u,g)=>(f(),D(x,{key:g,value:u.value},{default:a(()=>[k(r(u.label),1)]),_:2},1032,["value"]))),128)),N(d("span",null,r(M.value),513),[[V,m.value&&m.value.includes("other")]])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"technical_demand",label:"技术需求"},{default:a(()=>[e(C,{disabled:"",value:y.value,"onUpdate:value":l[3]||(l[3]=u=>y.value=u)},{default:a(()=>[(f(!0),j(w,null,T(oe,(u,g)=>(f(),D(x,{key:g,value:u.value},{default:a(()=>[k(r(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"bond_source_demand",label:"劵源需求"},{default:a(()=>[e(C,{disabled:"",value:b.value,"onUpdate:value":l[4]||(l[4]=u=>b.value=u)},{default:a(()=>[(f(!0),j(w,null,T(se,(u,g)=>(f(),D(x,{key:g,value:u.value},{default:a(()=>[k(r(u.label),1)]),_:2},1032,["value"]))),128)),N(d("span",null,r(F.value),513),[[V,b.value&&b.value.includes("other")]])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"investment_research_demand",label:"投研需求"},{default:a(()=>[e(C,{disabled:"",value:h.value,"onUpdate:value":l[5]||(l[5]=u=>h.value=u)},{default:a(()=>[(f(!0),j(w,null,T(_e,(u,g)=>(f(),D(x,{key:g,value:u.value},{default:a(()=>[k(r(u.label),1)]),_:2},1032,["value"]))),128)),N(d("span",null,r(P.value),513),[[V,h.value&&h.value.includes("other")]])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{name:"existing_assets",label:"现有资产"},{default:a(()=>[d("span",null,r(t.existing_assets),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"historical_peak",label:"历史峰值"},{default:a(()=>[d("span",null,r(t.historical_peak),1)]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{name:"customer_source",label:"客户来源"},{default:a(()=>[d("span",null,r(t.customer_source),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"specific_channel",label:"具体渠道"},{default:a(()=>[d("span",null,r(t.specific_channel),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"commission_rate",label:"佣金费率"},{default:a(()=>[d("span",null,r(t.commission_rate),1)]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:12},{default:a(()=>[e(s,{name:"risk_appetite",label:"风险偏好"},{default:a(()=>[e(q,{disabled:"",value:t.risk_appetite,"onUpdate:value":l[6]||(l[6]=u=>t.risk_appetite=u),options:re},null,8,["value","options"])]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(s,{name:"permissions",label:"权限情况"},{default:a(()=>[e(C,{disabled:"",value:O.value,"onUpdate:value":l[7]||(l[7]=u=>O.value=u),options:ie},null,8,["value","options"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:6},{default:a(()=>[e(s,{label:"拜访情况"},{default:a(()=>[e(K,{href:"#",type:"link",onClick:L(Q,["prevent"])},{default:a(()=>[k("详情")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(_,{span:6},{default:a(()=>[e(s,{label:"已合作券商"},{default:a(()=>[e(K,{href:"#",type:"link",onClick:L(le,["prevent"])},{default:a(()=>[k("详情")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(_,{span:6},{default:a(()=>[e(s,{label:"基金理财/私募"},{default:a(()=>[e(K,{type:"link",onClick:L(ee,["prevent"])},{default:a(()=>[k("详情")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),Ae,e(i,{gutter:24},{default:a(()=>[e(_,{span:12},{default:a(()=>[e(s,{name:"developer",label:" 开发关系"},{default:a(()=>[d("span",null,r(t.developer),1)]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(s,{name:"is_internet_channel",label:"是否是互联网渠道"},{default:a(()=>[e(q,{disabled:"",value:t.is_internet_channel,"onUpdate:value":l[8]||(l[8]=u=>t.is_internet_channel=u),options:de},null,8,["value","options"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:12},{default:a(()=>[e(s,{name:"assignmenter",label:"服务包分配"},{default:a(()=>[d("span",null,r(t.assignmenter),1)]),_:1})]),_:1}),e(_,{span:12},{default:a(()=>[e(s,{name:"follower",label:"跟进情况"},{default:a(()=>[d("span",null,r(t.follower),1)]),_:1})]),_:1})]),_:1}),He,e(i,{gutter:24},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{name:"account_opening_date",label:"开户日期"},{default:a(()=>[d("span",null,r(t.account_opening_date),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"preferential_interest_rate",label:"优惠利率"},{default:a(()=>[d("span",null,r(t.preferential_interest_rate),1)]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{name:"dateRange",label:"时  间"},{default:a(()=>[d("span",null,r(t.interest_rate_effective_date)+" 至 "+r(t.interest_rate_expiry_date),1)]),_:1})]),_:1})]),_:1}),e(i,{gutter:24},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{name:"remark",label:"备  注"},{default:a(()=>[d("span",null,r(t.remark),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,{ref_key:"contactRef",ref:R,"form-type":"jgkh",isReadOnly:"",onCancel:z,onOk:W},null,512),e(pe,{ref_key:"fundsRef",ref:B,isReadOnly:"",onCancel:A,onOk:ae},null,512),e(fe,{ref_key:"cooperationsRef",ref:U,isReadOnly:"",onCancel:H,onOk:te},null,512)],64)}}},ca=Ve(qe,[["__scopeId","data-v-96403f6a"]]);export{ca as default};
